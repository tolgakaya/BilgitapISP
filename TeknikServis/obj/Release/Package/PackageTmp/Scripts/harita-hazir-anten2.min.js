function addMarker(n){var t=new google.maps.Marker({position:n,map:map});bounds.extend(n);markers.push(t)}function clearMarkers(){setAllMap(null)}function showMarkers(){setAllMap(map)}function deleteMarkers(){clearMarkers();markers=[]}function setAllMap(n){for(var t=0;t<markers.length;t++)markers[t].setMap(n)}function createMarker(n,t){var r=t,i=new google.maps.Marker({position:n,map:map,icon:"/img/anten2.png",animation:google.maps.Animation.BOUNCE,zIndex:Math.round(n.lat()*-1e5)<<5});bounds.extend(n);google.maps.event.addListener(i,"click",function(){infowindow.setContent(r);infowindow.open(map,i)})}function drawArc(n,t,i,r){var s=Math.PI/180,h=180/Math.PI,o=32,c=r/EarthRadiusMeters*h,l=c/Math.cos(n.lat()*s),u=[],f,e;for(t>i&&(i+=360),f=i-t,f=f/o,e=0;e<o+1;e++)u.push(n.DestinationPoint(t+e*f,r)),bounds.extend(u[u.length-1]);return u}function GetAnten(){return $.getJSON(url,function(n){var t=n.anten_adi,i=n.center_Lat,r=n.center_Long,u=n.start_Lat,f=n.start_Long,e=n.end_Lat,o=n.end_Long,s=n.anten_id;anten={center:new google.maps.LatLng(i,r),start:new google.maps.LatLng(u,f),end:new google.maps.LatLng(e,o),adi:t,anten_id:s}}).fail(function(){}),anten}function getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function getPolygonCoords(){for(var i=piePoly.getPath().getLength(),t="",n=0;n<i;n++)t+="new google.maps.LatLng("+piePoly.getPath().getAt(n).toUrlValue(5)+"), ";document.getElementById("info").innerHTML=t}function tekli(n,t,i){var r=drawArc(i,i.Bearing(n),i.Bearing(t),i.distanceFrom(n));r.push(i);bounds.extend(i);r.push(n);piePoly=new google.maps.Polygon({paths:[r],strokeColor:"#00FF00",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,draggable:!0,map:map})}function showArrays(){var t=this.getPath(),r="",n,i,f,e,u,o;for(ortaCizgi.setMap(null),n=0;n<t.getLength();n++)(n===0||n===32||n===33)&&(i=t.getAt(n),r+=i.lat()+","+i.lng()+"-"),n===0?f=t.getAt(n):n===32?e=t.getAt(n):n===33&&(u=t.getAt(n));o=google.maps.geometry.spherical.interpolate(f,e,.5);cizgi(u,o);document.getElementById("info").innerHTML=r}function rotatePolygon(n,t){var r=n.getMap(),i=r.getProjection(),u=i.fromLatLngToPoint(n.getPath().getAt(33)),f=n.getPath().getArray().map(function(n){var f=i.fromLatLngToPoint(n),r=i.fromPointToLatLng(rotatePoint(f,u,t));return{lat:r.lat(),lng:r.lng()}});n.setPath(f)}function rotatePoint(n,t,i){var r=i*Math.PI/180;return{x:Math.cos(r)*(n.x-t.x)-Math.sin(r)*(n.y-t.y)+t.x,y:Math.sin(r)*(n.x-t.x)+Math.cos(r)*(n.y-t.y)+t.y}}function cizgi(n,t){ortaCizgi=new google.maps.Polyline({path:[n,t],strokeColor:"#F00000",strokeOpacity:1,strokeWeight:10,map:map})}function initialize(){var n={zoom:10,center:new google.maps.LatLng(36.077806,32.826344),mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map_canvas"),n);bounds=new google.maps.LatLngBounds;google.maps.event.addListener(map,"click",function(){infowindow.close()});tekli(anten.start,anten.end,anten.center,anten.adi,anten.anten_id);orta=google.maps.geometry.spherical.interpolate(anten.start,anten.end,.5);cizgi(anten.center,orta);piePoly.addListener("drag",showArrays);piePoly.addListener("click",function(){rotatePolygon(piePoly,5)});piePoly.addListener("click",showArrays);google.maps.event.addListener(ortaCizgi,"click",function(){infowindow.close()});map.fitBounds(bounds)}var EarthRadiusMeters=6378137,infowindow,markers,piePoly,map,bounds,ortaCizgi,orta;google.maps.LatLng.prototype.DestinationPoint=function(n,t){var i=EarthRadiusMeters,n=n.toRad(),r=this.lat().toRad(),f=this.lng().toRad(),u=Math.asin(Math.sin(r)*Math.cos(t/i)+Math.cos(r)*Math.sin(t/i)*Math.cos(n)),e=f+Math.atan2(Math.sin(n)*Math.sin(t/i)*Math.cos(r),Math.cos(t/i)-Math.sin(r)*Math.sin(u));return new google.maps.LatLng(u.toDeg(),e.toDeg())};google.maps.LatLng.prototype.Bearing=function(n){var i=this,r=n;if(i.equals(r))return 0;var f=i.latRadians(),e=i.lngRadians(),u=r.latRadians(),o=r.lngRadians(),t=-Math.atan2(Math.sin(e-o)*Math.cos(u),Math.cos(f)*Math.sin(u)-Math.sin(f)*Math.cos(u)*Math.cos(e-o));return t<0&&(t+=Math.PI*2),t>Math.PI&&(t-=Math.PI*2),parseFloat(t.toDeg())};Number.prototype.toRad=function(){return this*Math.PI/180};Number.prototype.toDeg=function(){return this*180/Math.PI};Number.prototype.toBrng=function(){return(this.toDeg()+360)%360};infowindow=new google.maps.InfoWindow({size:new google.maps.Size(150,50)});markers=[];var id=getParameterByName("id"),urlBase="/api/Anten/",url=urlBase+"?id="+id,tekAn,anten;map=null;bounds=null;anten=GetAnten();
//# sourceMappingURL=harita-hazir-anten2.min.js.map
