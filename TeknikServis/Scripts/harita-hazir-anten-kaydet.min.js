function drawArc(n,t,i,r){var s=Math.PI/180,h=180/Math.PI,o=32,c=r/EarthRadiusMeters*h,l=c/Math.cos(n.lat()*s),u=[],f,e;for(t>i&&(i+=360),f=i-t,f=f/o,e=0;e<o+1;e++)u.push(n.DestinationPoint(t+e*f,r)),bounds.extend(u[u.length-1]);return u}function getPolygonCoords(){for(var i=piePoly.getPath().getLength(),t="",n=0;n<i;n++)t+="new google.maps.LatLng("+piePoly.getPath().getAt(n).toUrlValue(5)+"), ";document.getElementById("info").value=t}function antenCizBaslangic(n,t,i){var r=google.maps.geometry.spherical.computeOffset(n,t,0),f=google.maps.geometry.spherical.computeOffset(n,t,i),u=drawArc(n,n.Bearing(r),n.Bearing(f),t);u.push(n);bounds.extend(n);u.push(r);piePoly=new google.maps.Polygon({paths:[u],strokeColor:"#00FF00",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,draggable:!0,map:map});orta=google.maps.geometry.spherical.interpolate(r,f,.5);ortaCizgi=new google.maps.Polyline({path:[n,orta],strokeColor:"#F00000",strokeOpacity:1,strokeWeight:10,map:map});google.maps.event.addListener(ortaCizgi,"click",function(n){panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:n.latLng,pov:{heading:34,pitch:10}});map.setStreetView(panorama)})}function antenCiz(n,t,i){piePoly.setMap(null);var r=google.maps.geometry.spherical.computeOffset(n,t,0),f=google.maps.geometry.spherical.computeOffset(n,t,i),u=drawArc(n,n.Bearing(r),n.Bearing(f),t);u.push(n);bounds.extend(n);u.push(r);piePoly=new google.maps.Polygon({paths:[u],strokeColor:"#00FF00",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,draggable:!0,map:map});orta=google.maps.geometry.spherical.interpolate(r,f,.5);cizgi(n,orta);google.maps.event.addListener(ortaCizgi,"click",function(n){panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:n.latLng,pov:{heading:34,pitch:10}});map.setStreetView(panorama)});piePoly.addListener("drag",showArrays);piePoly.addListener("click",function(){rotatePolygon(piePoly,5)});piePoly.addListener("click",showArrays)}function showArrays(){var t=this.getPath(),r="",n,i,f,e,u,o;for(ortaCizgi.setMap(null),n=0;n<t.getLength();n++)(n===0||n===32||n===33)&&(i=t.getAt(n),r+=i.lat()+","+i.lng()+"-"),n===0?f=t.getAt(n):n===32?e=t.getAt(n):n===33&&(u=t.getAt(n));o=google.maps.geometry.spherical.interpolate(f,e,.5);cizgi(u,o);google.maps.event.addListener(ortaCizgi,"click",function(n){panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:n.latLng,pov:{heading:34,pitch:10}});map.setStreetView(panorama)});document.getElementById("info").value=r}function rotatePolygon(n,t){var r=n.getMap(),i=r.getProjection(),u=i.fromLatLngToPoint(n.getPath().getAt(33)),f=n.getPath().getArray().map(function(n){var f=i.fromLatLngToPoint(n),r=i.fromPointToLatLng(rotatePoint(f,u,t));return{lat:r.lat(),lng:r.lng()}});n.setPath(f)}function rotatePoint(n,t,i){var r=i*Math.PI/180;return{x:Math.cos(r)*(n.x-t.x)-Math.sin(r)*(n.y-t.y)+t.x,y:Math.sin(r)*(n.x-t.x)+Math.cos(r)*(n.y-t.y)+t.y}}function cizgi(n,t){ortaCizgi.setMap(null);ortaCizgi=new google.maps.Polyline({path:[n,t],strokeColor:"#F00000",strokeOpacity:1,strokeWeight:10,map:map})}function GetAnten(){return $.getJSON(url,function(n){var s=n.anten_adi,t=n.center_Lat,i=n.center_Long,r=n.start_Lat,u=n.start_Long,f=n.end_Lat,e=n.end_Long,o;anten={center:new google.maps.LatLng(t,i),start:new google.maps.LatLng(r,u),end:new google.maps.LatLng(f,e),adi:s};o=r+","+u+"-"+f+","+e+"-"+t+","+i;document.getElementById("info").value=o}).fail(function(){}),anten}function getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function tekli(n,t,i,r){var u=drawArc(i,i.Bearing(n),i.Bearing(t),i.distanceFrom(n)),f;u.push(i);bounds.extend(i);u.push(n);f=document.getElementById("txtAntenAdi");f.value=r;piePoly=new google.maps.Polygon({paths:[u],strokeColor:"#00FF00",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,draggable:!0,map:map});orta=google.maps.geometry.spherical.interpolate(n,t,.5);ortaCizgi=new google.maps.Polyline({path:[i,orta],strokeColor:"#F00000",strokeOpacity:1,strokeWeight:10,map:map});google.maps.event.addListener(ortaCizgi,"click",function(n){panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:n.latLng,pov:{heading:34,pitch:10}});map.setStreetView(panorama)})}function initialize(){var n={zoom:10,center:new google.maps.LatLng(36.077286,32.832889),mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map_canvas"),n);bounds=new google.maps.LatLngBounds;panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:new google.maps.LatLng(36.077286,32.832889),pov:{heading:34,pitch:10}});map.setStreetView(panorama);anten?tekli(anten.start,anten.end,anten.center,anten.adi,anten.anten_id):antenCizBaslangic(new google.maps.LatLng(36.077286,32.832889),100,90);piePoly.addListener("drag",showArrays);piePoly.addListener("click",function(){rotatePolygon(piePoly,5)});piePoly.addListener("click",showArrays);google.maps.event.addListener(map,"click",function(n){var t=n.latLng.lat(),i=n.latLng.lng(),r=new google.maps.LatLng(t,i),u=document.getElementById("txtR").value,f=document.getElementById("txtAci").value;antenCiz(r,u,f)});map.fitBounds(bounds)}var EarthRadiusMeters=6378137,infowindow,piePoly,map,bounds,ortaCizgi,orta,panorama;google.maps.LatLng.prototype.DestinationPoint=function(n,t){var i=EarthRadiusMeters,n=n.toRad(),r=this.lat().toRad(),f=this.lng().toRad(),u=Math.asin(Math.sin(r)*Math.cos(t/i)+Math.cos(r)*Math.sin(t/i)*Math.cos(n)),e=f+Math.atan2(Math.sin(n)*Math.sin(t/i)*Math.cos(r),Math.cos(t/i)-Math.sin(r)*Math.sin(u));return new google.maps.LatLng(u.toDeg(),e.toDeg())};google.maps.LatLng.prototype.Bearing=function(n){var i=this,r=n;if(i.equals(r))return 0;var f=i.latRadians(),e=i.lngRadians(),u=r.latRadians(),o=r.lngRadians(),t=-Math.atan2(Math.sin(e-o)*Math.cos(u),Math.cos(f)*Math.sin(u)-Math.sin(f)*Math.cos(u)*Math.cos(e-o));return t<0&&(t+=Math.PI*2),t>Math.PI&&(t-=Math.PI*2),parseFloat(t.toDeg())};Number.prototype.toRad=function(){return this*Math.PI/180};Number.prototype.toDeg=function(){return this*180/Math.PI};Number.prototype.toBrng=function(){return(this.toDeg()+360)%360};infowindow=new google.maps.InfoWindow({size:new google.maps.Size(150,50)});map=null;bounds=null;var id=getParameterByName("id"),urlBase="/api/Anten/",url=urlBase+"?id="+id,anten=GetAnten();
//# sourceMappingURL=harita-hazir-anten-kaydet.min.js.map
